<!DOCTYPE html>
<html>
<head>
	<title>Self-Care Assessment</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="script.js"></script>
</head>
<body>
	<h1>Self-Care Assessment Quiz</h1>
	<p>The following is a basic quiz for assessing one's self-care practices. This quiz is not exhaustive, merely suggestive. When you are finished, look for patterns in your responses. Are you more active in some areas of self-care? Do you tend to ignore others? Are there items on the list that hadn't even occurred to you? Listen to your internal responses and dialogue about self-care, and take note of anything you would like to prioritize moving forward. [todo reword]</p>

    <div id="parentContainer"></div>
	<script type="text/javascript">ConstructQuestions();</script>
	<br/><br/>
    <button id="calculateBtn" onclick="calculateResults()">Calculate Score</button>
	<br/><br/>
    <div id="results"></div>
	
	<p>
	  <fieldset>
    <legend>Legend for Fieldset</legend>

    <input type="radio" id="apple" name="test" value="A" />
    <label for="apple">Apple</label><br />

    <input type="radio" id="banana" name="test" value="B" />
    <label for="banana">Banana</label><br />

    <input type="radio" id="clementine" name="test" value="C" />
    <label for="clementine">Clementine</label>
  </fieldset>
	</p>
<footer><hr/><p>Based on the <a href="https://www.dhs.wisconsin.gov/crs/self-care-assessment.pdf" target="_blank">Self-Care Assessment worksheet</a> adapted from Saakvitne, Pearlman, & Staff of TSI/CAAP (1996). <i>Transforming the Pain: A Workbook on Vicarious Traumatization.</i> Norton. Adapted by Lisa D. Butler, PhD.</p></footer>
<!--    <script>
        const collection = [
            ["fruits", ["apple", "orange", "banana"]],
            ["veggies", ["tomato", "corn", "radish", "cucumber"]],
        ];

// Creating an empty object
var questions = {};

// Adding key-value pairs
questions["fruits"] = ["apple", "orange", "banana"];
questions["veggies"] = ["tomato", "corn", "radish", "cucumber"];


        // Get the parent container where divs and radio buttons will be added
        const parentContainer = document.getElementById("parentContainer");

// Iterating over key-value pairs
for (var key in questions) {
  console.log(key + ": " + questions[key]);
  
            // Create a div for each first element in the child array
            const divElement = document.createElement("div");
            divElement.id = key;
            parentContainer.appendChild(divElement); // Add the div to the parent container

            var heading = document.createElement("h3");
            heading.innerHTML = key;
            divElement.appendChild(heading);
  
            // Create radio buttons for each array element in the second element
            questions[key].forEach((element, index) => {

                // Create a label element
                var label = document.createElement("label");
                label.textContent = element + "\r\n";

                const br = document.createElement("br");
                label.appendChild(br);

                // Create radio buttons with values from 1 to 5
                for (var j = 1; j <= 5; j++) {
                    var radio = document.createElement("input");
                    radio.type = "radio";
                    radio.name = element + "-rating";
                    radio.value = j;

                    // Append radio button to label
                    label.appendChild(radio);
                    label.append(j);
                }
				
				label.appendChild(br);

                // Append label to container
                divElement.appendChild(label);
            });
  
}
/*
        // Loop through the collection array
        collection.forEach((item) => {
            // Create a div for each first element in the child array
            const divElement = document.createElement("div");
            //divElement.textContent = item[0]; // Set div text as the first element
            divElement.id = item[0];
            parentContainer.appendChild(divElement); // Add the div to the parent container

            var heading = document.createElement("h3");
            heading.innerHTML = item[0];
            divElement.appendChild(heading);

            // Create radio buttons for each array element in the second element
            item[1].forEach((element, index) => {

                // Create a label element
                var label = document.createElement("label");
                label.textContent = element + "\n\n";

                const br = document.createElement("br");
                label.appendChild(br);

                // Create radio buttons with values from 1 to 5
                for (var j = 1; j <= 5; j++) {
                    var radio = document.createElement("input");
                    radio.type = "radio";
                    radio.name = element + "-rating";
                    radio.value = j;

                    // Append radio button to label
                    label.appendChild(radio);
                    label.append(j);
                }

                // Append label to container
                divElement.appendChild(label);
            });
        });*/

        document.getElementById("calculateBtn").addEventListener("click", function () {
            var fruits = document.getElementById("fruits").getElementsByTagName("apple-rating");
            var resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = "jhouhouh"; // Clear previous results

            for (var i = 0; i < fruits.length; i++) {
                var fruitName = fruits[i].innerHTML;
                var rating = document.querySelector('input[name="' + fruits[i].htmlFor + '-rating"]:checked');

                if (rating) {
                    var fruitScore = parseInt(rating.value);
                    var result = document.createElement("p");
                    result.innerHTML = fruitName + " score: " + fruitScore;
                    resultsDiv.appendChild(result);
                } else {
                    resultsDiv.innerHTML = "<p>Please rate all fruits.</p>";
                    return;
                }
            }

        });

    </script>-->
</body>
</html>